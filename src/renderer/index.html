<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; script-src 'self'">
    <title>Markdown Editor</title>

    <!-- Design System Stylesheets -->
    <link rel="stylesheet" href="styles/design-tokens.css">
    <link rel="stylesheet" href="styles/typography.css">
    <link rel="stylesheet" href="styles/animations.css">
    <link rel="stylesheet" href="styles/icons.css">
    <link rel="stylesheet" href="styles/tooltips.css">

    <!-- Component Stylesheets -->
    <link rel="stylesheet" href="styles/tabs.css">
    <link rel="stylesheet" href="styles/buttons.css">
    <link rel="stylesheet" href="styles/toolbar.css">
    <link rel="stylesheet" href="styles/inputs.css">
    <link rel="stylesheet" href="styles/search.css">

    <!-- Theme Stylesheets -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/editor.css">
    <link rel="stylesheet" href="styles/preview.css">
    <link rel="stylesheet" href="styles/keyboard-shortcuts.css">
    <link rel="stylesheet" href="styles/auto-save-settings.css">
    <link rel="stylesheet" href="styles/template.css">
    <link rel="stylesheet" href="styles/formatting-toolbar.css">
    <link rel="stylesheet" href="styles/theme-light.css" id="theme-light">
    <link rel="stylesheet" href="styles/theme-dark.css" id="theme-dark" disabled>

    <!-- Advanced Markdown Stylesheets -->
    <link rel="stylesheet" href="styles/katex.min.css">
    <link rel="stylesheet" href="styles/callouts.css">
    <link rel="stylesheet" href="styles/advanced-markdown-settings.css">

    <!-- File Tree Sidebar Stylesheet -->
    <link rel="stylesheet" href="styles/file-tree-sidebar.css">
</head>

<body class="theme-light">
    <!-- Tab Bar -->
    <div id="tab-bar" class="tab-bar"></div>

    <!-- Formatting Toolbar -->
    <div id="formatting-toolbar" class="formatting-toolbar"></div>

    <!-- File Tree Sidebar -->
    <div id="file-tree-sidebar" class="file-tree-sidebar file-tree-sidebar--hidden">
        <div class="file-tree-sidebar__header">
            <span class="file-tree-sidebar__title">Files</span>
            <button class="file-tree-sidebar__toggle-btn" id="sidebar-toggle-btn" aria-label="Toggle sidebar visibility"
                title="Toggle sidebar">
                ✕
            </button>
        </div>
        <div class="file-tree-sidebar__tree" id="file-tree-container"></div>
    </div>

    <!-- Main Container -->
    <div id="app-container">
        <!-- Editor Pane -->
        <div id="editor-pane" class="pane">
            <div id="editor-container"></div>
        </div>

        <!-- Resizable Divider -->
        <div id="divider" class="divider"></div>

        <!-- Preview Pane -->
        <div id="preview-pane" class="pane">
            <div id="preview-container" class="markdown-preview"></div>
        </div>
    </div>

    <!-- Status Bar -->
    <div id="status-bar" class="status-bar">
        <div id="auto-save-status" class="status-indicator"></div>
    </div>

    <!-- Search UI (Hidden by default) -->
    <div id="search-panel" class="search-panel hidden" role="dialog" aria-label="Search and Replace">
        <div class="search-controls">
            <input type="text" id="search-input" placeholder="Find..." class="search-input" aria-label="Search text">
            <button id="search-prev" class="search-button" title="Previous" aria-label="Previous match">↑</button>
            <button id="search-next" class="search-button" title="Next" aria-label="Next match">↓</button>
            <span id="search-results" class="search-results" aria-live="polite"></span>
            <button id="search-close" class="search-button" title="Close" aria-label="Close search panel">✕</button>
        </div>
        <div class="replace-controls hidden">
            <input type="text" id="replace-input" placeholder="Replace..." class="search-input"
                aria-label="Replace text">
            <button id="replace-current" class="search-button" aria-label="Replace current match">Replace</button>
            <button id="replace-all" class="search-button" aria-label="Replace all matches">Replace All</button>
        </div>
        <button id="toggle-replace" class="toggle-replace-button" aria-label="Toggle replace controls"
            aria-expanded="false">▼</button>
    </div>

    <!-- Renderer Script -->
    <script src="index.js"></script>
</body>

</html>